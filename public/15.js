(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{51:function(t,e,n){"use strict";n.r(e);var o=n(0);function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s={name:"Verification",components:{RegenerateOTP:function(){return n.e(0).then(n.bind(null,58))},UpdatePassword:function(){return n.e(1).then(n.bind(null,59))}},data:function(){return{valid:!0,otp:null,otpRules:[function(t){return/([0-9])+/.test(t)||"OTP Code must be numeric"},function(t){return t&&t.length>=6&&t.length<7||"Min & Max 6 Characters"}]}},computed:a(a({},Object(o.c)({currentUser:"auth/user",dialogStatus:"dialog/status",currentComponent:"dialog/component"})),{},{dialog:{get:function(){return this.dialogStatus},set:function(t){this.setDialogStatus(t)}}}),methods:a(a({},Object(o.b)({setAlert:"alert/set",setDialogStatus:"dialog/setStatus",setDialogComponent:"dialog/setComponent",setAuth:"auth/set"})),{},{submit:function(){var t=this;if(this.$refs.form.validate()){var e={otp:this.otp};axios.post("/api/auth/verification",e).then((function(e){var n=e.data.response_code;"01"==n?t.setAlert({status:!0,color:"error",text:e.data.response_message}):"00"==n&&(t.setAlert({status:!0,color:"primary",text:"Verifikasi Berhasil, silahkan update password anda"}),t.setDialogComponent("UpdatePassword"),window.location.reload())})).catch((function(e){var n=e.response;console.log(n),t.setAlert({status:!0,text:n.data.message,color:"error"})}))}}})},l=n(1),c=Object(l.a)(s,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-card",[n("v-toolbar",{attrs:{dark:"",color:"indigo darken-4"}},[n("v-toolbar-title",[t._v("OTP Verification")])],1),t._v(" "),n("v-container",{attrs:{fluid:""}},[n("keep-alive",[n("v-dialog",{attrs:{"max-width":"600px",transition:"dialog-bottom-transition"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n(t.currentComponent,{tag:"component",on:{closed:t.setDialogStatus}})],1)],1),t._v(" "),n("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[n("v-text-field",{staticClass:"rounded-md",attrs:{rules:t.otpRules,label:"OTP",required:"","append-icon":"mdi-key","solo-inverted":""},model:{value:t.otp,callback:function(e){t.otp=e},expression:"otp"}}),t._v(" "),n("div",{staticClass:"text-xs-center"},[n("v-btn",{staticClass:"white--text",attrs:{color:"indigo darken-4",disabled:!t.valid},on:{click:t.submit}},[t._v("\n                        Submit\n                        "),n("v-icon",{attrs:{right:"",dark:""}},[t._v("mdi-lock-open")])],1),t._v(" "),n("v-btn",{staticClass:"white--text",attrs:{color:"red darken-2"},on:{click:function(e){return t.setDialogComponent("RegenerateOTP")}}},[t._v("\n                        Regenerate OTP\n                    ")])],1)],1)],1)],1)],1)}),[],!1,null,"52445b54",null);e.default=c.exports}}]);